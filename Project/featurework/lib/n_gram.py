#!/usr/bin/env python
"""
#
# Author: Necmettin Çarkacı
#
# E-mail: necmettin [ . ] carkaci [ @ ] gmail [ . ] com
#
# Usage :opcode.py file
#   dataset : file or directory
"""

import numpy as np
#from collections import Counter

def find_n_gram_from_text(text, gram ,delimeter='-'):
    """
        Find n-gram paths in the text given gram value

        :param text : text
        :type text: str
        :param gram:n-gram value
        :type gram:int
        :param delimeter: Reagent for ngram values
        :type delimeter:str
        :return : ngram list
        :rtype:list
    """

    char_list = list(text)

    n_gram_tuple_list = []
    for index in range(len(char_list) - (gram)):
        n_gram_tuple = delimeter.join(char_list[index:index + gram])

        n_gram_tuple_list.append(n_gram_tuple)

    return n_gram_tuple_list

def find_ngram_from_file(filename, gram, delimeter=','):
    """
        Read file content and create ngrams sequences in the file.

        :param filename : Filename
        :type filename : str
        :param gram:n-gram value
        :type gram:int
        :param delimeter: The delimeter for each ngram in the file
        :type delimeter: str
        :return: ngram sequence
        :rtype:str
    """

    try:
        with open(filename, 'r') as input_file:
            content = input_file.read()

            if delimeter in content:
                content = content.split(delimeter)

        text_ngram_list = find_n_gram_from_text(content, gram)
        text_ngram      = delimeter.join(text_ngram_list)

        return text_ngram

    except:

        return None
